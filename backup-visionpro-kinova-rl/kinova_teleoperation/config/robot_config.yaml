# Robot Configuration for Kinova Gen3 Teleoperation

robot:
  name: "my_gen3"

  # Joint names (must match ROS2 controller)
  joint_names:
    - joint_1
    - joint_2
    - joint_3
    - joint_4
    - joint_5
    - joint_6
    - joint_7

  # URDF path (relative to ros2_kortex package)
  # Update this path based on your installation
  urdf_path: "../ros2_kortex/kortex_description/arms/gen3/7dof/urdf/gen3_macro.xacro"

  # Kinematic chain
  base_link: "base_link"
  end_effector_link: "end_effector_link"

  # IK solver parameters
  ik:
    max_iterations: 20
    position_tolerance: 0.001  # meters (1mm)

  # Gripper
  gripper:
    type: "robotiq_2f_85"
    max_effort: 100.0  # Newtons

# Control parameters
control:
  # Loop frequency
  rate_hz: 20.0

  # Scaling modes
  scaling_fast:
    x: 1.5
    y: 1.5
    z: 1.0

  scaling_precision:
    x: 0.5
    y: 0.5
    z: 0.5

  # Velocity limits
  max_cartesian_velocity: 0.5  # m/s

  # Trajectory extrapolation
  extrapolation_enabled: true
  extrapolation_times: [0.05, 0.10, 0.15]  # seconds

# Vision Pro configuration
vision_pro:
  ip: "192.168.1.100"  # UPDATE THIS
  port: 12345

  # Filtering parameters (OneEuroFilter)
  filter:
    min_cutoff: 1.0
    beta: 0.05
    d_cutoff: 1.0

# Gamepad configuration
gamepad:
  deadband: 0.1  # trigger deadband (0.0 to 1.0)

  # Button mapping (Xbox controller)
  buttons:
    clutch: "BTN_SOUTH"  # A button
    mode_toggle: "BTN_NORTH"  # Y button
    emergency_stop: "BTN_EAST"  # B button

  triggers:
    gripper: "ABS_RZ"  # Right trigger

# Data logging
logging:
  enabled: true
  output_dir: "./demonstrations"
  buffer_size: 50

  # Image settings
  image_width: 640
  image_height: 480

  # Timestamp alignment
  alignment_threshold_ms: 50.0
  interpolation_threshold_ms: 100.0
